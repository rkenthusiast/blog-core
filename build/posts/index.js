(()=>{"use strict";var e,t={282:(e,t,a)=>{const r=window.wp.blocks,o=window.React,n=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,c=window.wp.apiFetch;var d=a.n(c);const m=JSON.parse('{"UU":"create-block/posts"}');(0,r.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:t}){const{postsToShow:a,loadMoreText:r}=e,[c,m]=(0,o.useState)([]),[i,p]=(0,o.useState)(1),[u,_]=(0,o.useState)(!1),[b,v]=(0,o.useState)(!0),h=(0,l.useBlockProps)();(0,o.useEffect)((()=>{w(1)}),[]);const w=e=>{_(!0),d()({path:`/wp/v2/posts?_embed&per_page=${a}&page=${e}`}).then((e=>{e.length<a&&v(!1),m((t=>[...t,...e])),_(!1)})).catch((()=>{v(!1),_(!1)}))};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(l.InspectorControls,null,(0,o.createElement)(s.PanelBody,{title:(0,n.__)("Post Settings","create-block")},(0,o.createElement)(s.RangeControl,{label:(0,n.__)("Number of Posts to Show","create-block"),value:a,onChange:e=>{t({postsToShow:e}),p(1),m([]),v(!0),w(1)},min:1,max:10}))),(0,o.createElement)("div",{...h},(0,o.createElement)("div",{className:"posts"},(0,o.createElement)("div",{className:"posts__title"},(0,o.createElement)("h3",null,(0,n.__)("Latest Post","create-block"))),c.map((e=>(0,o.createElement)("div",{key:e.id,className:"posts__card"},e._embedded["wp:featuredmedia"]?.[0]?.source_url&&(0,o.createElement)("img",{className:"posts__card__img",src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title.rendered}),(0,o.createElement)("div",{className:"posts__card__detail"},e._embedded["wp:term"]?.[0]?.[0]&&(0,o.createElement)("span",{className:"posts__card__tag"},e._embedded["wp:term"][0][0].name),(0,o.createElement)("h2",null,e.title.rendered),(0,o.createElement)("div",{className:"posts__card__author"},(0,o.createElement)("img",{src:e._embedded.author[0].avatar_urls[48],alt:e._embedded.author[0].name}),(0,o.createElement)("h3",null,e._embedded.author[0].name),(0,o.createElement)("p",null,new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})))))))),b?(0,o.createElement)(s.Button,{onClick:()=>{const e=i+1;p(e),w(e)},className:"posts__btn",disabled:u},u?(0,n.__)("Loading...","create-block"):r):(0,o.createElement)("p",null,(0,n.__)("No more posts to load","create-block"))))},save:function({attributes:e}){const{title:t,description:a,recommendedImageSize:r}=e,n=l.useBlockProps.save();return(0,o.createElement)("div",{...n,className:"posts"},(0,o.createElement)("div",{class:"posts__box"},(0,o.createElement)("h4",null,t),(0,o.createElement)("p",null,a),(0,o.createElement)("span",null,r)))}}),console.log("post here")}},a={};function r(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,a,o,n)=>{if(!a){var l=1/0;for(m=0;m<e.length;m++){for(var[a,o,n]=e[m],s=!0,c=0;c<a.length;c++)(!1&n||l>=n)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(s=!1,n<l&&(l=n));if(s){e.splice(m--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,o,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={773:0,481:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[l,s,c]=a,d=0;if(l.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var m=c(r)}for(t&&t(a);d<l.length;d++)n=l[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(m)},a=globalThis.webpackChunkblog_core=globalThis.webpackChunkblog_core||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=r.O(void 0,[481],(()=>r(282)));o=r.O(o)})();